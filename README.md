# 信用卡数字识别系统 (OCR Template Matching)

## 项目描述
这是一个基于OpenCV和模板匹配的信用卡数字识别系统，能够自动识别信用卡上的卡号并判断信用卡类型（Visa、MasterCard等）。

## 功能特性
- 自动识别信用卡上的16位数字
- 支持4种主要信用卡类型识别
- 可视化处理流程
- 基于轮廓分析和模板匹配技术

## 依赖环境
- Python 3.6+
- OpenCV 4.x
- NumPy
- imutils

## 安装指南
```bash
pip install imutils
```

## 🔄 处理流程

### 1️⃣ 模板预处理
1. **灰度转换**  
   `cv2.COLOR_BGR2GRAY`
2. **二值化处理**  
   `cv2.THRESH_BINARY_INV`
3. **轮廓提取**  
   `cv2.RETR_EXTERNAL`模式
4. **模板库构建**  
   标准化为57×88像素模板

### 2️⃣ 信用卡处理
| 步骤 | 技术方案 | 关键API |
|------|----------|---------|
| 尺寸归一化 | 宽度固定300px | `resize(width=300)` |
| 纹理增强 | 礼帽运算 | `cv2.MORPH_TOPHAT` |
| 边缘检测 | Sobel算子 | `cv2.Sobel(dx=1,dy=0)` |
| 区域连接 | 闭运算 | 9×3矩形核 |

## ⚙️ 可调参数
```python
# 核心参数（ocr_template_match.py）
IMAGE_WIDTH = 300                # 输入图像缩放基准
ASPECT_RATIO_RANGE = (2.5, 4.0) # 数字区域宽高比阈值
MATCH_METHOD = cv2.TM_CCOEFF    # 模板匹配算法
```

## 📊 输出示例
```terminal
🟢 识别成功！
卡类型: Visa
卡号: 4000 1234 5678 9010
处理耗时: 1.2s
```

## ⚠️ 注意事项
1. **模板要求**  
   - 必须使用标准OCR-A字体
   - 建议分辨率≥300dpi

2. **输入图像**  
   ✅ 理想条件：  
   - 正对卡面拍摄  
   - 光照均匀  
   - 数字区域无遮挡  

   ❌ 避免情况：  
   - 强反光表面  
   - 运动模糊  
   - 透视变形严重
```

### 版本特点：
1. 采用模块化结构展示
2. 增加图标增强可读性（📁🔄⚙️等）
3. 代码块与表格混合排版
4. 重点参数高亮显示
5. 注意事项分条件列举
6. 输出结果添加处理耗时等元信息
7. 使用颜色标识符（🟢/❌等）增强视觉引导
